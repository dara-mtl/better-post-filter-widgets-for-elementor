!function(e){"use strict";e(window).on("elementor/frontend/init",(function(){var t={},i={};const n={},a={};let r="";function o(){e(".elementor-widget-filter-widget, .elementor-widget-search-bar-widget, .elementor-widget-sorting-widget").each((function(){var r=e(this),o=r.data("id"),s=r.data("settings"),l=s?.target_selector;if(l&&e(l).length){var d=e(l),c=d.data("filters-list")?d.data("filters-list").split(","):[];c.includes(o)||(c.push(o),d.data("filters-list",c.join(",")),d.attr("data-filters-list",c.join(",")));var p=d.data("id");if(t[p]||(t[p]=d.html()),!i[p]){const e=d.data("settings");let t=e?.posts_per_page?parseInt(e.posts_per_page):null;if(!t){let e=d.find(".elementor-posts, .grid, .columns, .elementor-grid").first();e.length&&(t=e.children("article, .post, .item, .entry").length)}if(!t){let e=d.find(".swiper-wrapper").first();e.length&&(t=e.children(".swiper-slide").length)}if(!t){let e=d.find("ul.products").first();e.length&&(t=e.children("li").length)}if(!t){let e=d.find("ul").first();e.length&&(t=e.children("li").length)}if(!t){let e=d.find("div").first();e.length&&(t=e.children("div").length)}i[p]=t>0?t:50}if(r.hasClass("elementor-widget-filter-widget")){a[p]||(a[p]=[]);const e={widgetId:o,groupLogic:s?.group_logic??"",dynamicFiltering:s?.dynamic_filtering??"",scrollToTop:s?.scroll_to_top??"",displaySelectedBefore:s?.display_selected_before??"",nothingFoundMessage:s?.nothing_found_message??"It seems we can’t find what you’re looking for.",enableQueryDebug:s?.enable_query_debug??"",injectID:s?.inject_query_id??"",queryID:s?.filter_query_id??""};a[p]=e,d.data("filter-settings",e),d.attr("data-filter-settings",JSON.stringify(e)),n[p]||(n[p]=[]);const t={widgetId:o,optimize_query:"yes"===s?.optimize_query,no_found_rows:"yes"===s?.no_found_rows,suppress_filters:"yes"===s?.suppress_filters,posts_per_page:parseInt(s?.posts_per_page)||-1};n[p].push(t);const i=n[p].reduce(((e,t)=>({optimize_query:e.optimize_query||t.optimize_query,no_found_rows:e.no_found_rows||t.no_found_rows,suppress_filters:e.suppress_filters||t.suppress_filters,posts_per_page:Math.min(-1===e.posts_per_page?1/0:e.posts_per_page,-1===t.posts_per_page?1/0:t.posts_per_page)})),{optimize_query:!1,no_found_rows:!1,suppress_filters:!1,posts_per_page:-1});i.posts_per_page=i.posts_per_page===1/0?-1:i.posts_per_page,d.data("performance-settings",i),d.attr("data-performance-settings",JSON.stringify(i))}}}))}r=e(".elementor-widget-filter-widget").length?"filter-widget":e(".elementor-widget-search-bar-widget").length?"search-bar-widget":"sorting-widget",o(),function(){const t=new URLSearchParams(window.location.search),i=t.get("results");if(!i)return;const n=e("#"+i);if(!n.length)return;let a=!1;function r(){const t=new URLSearchParams;t.set("results",i),n.find(":checkbox:checked, :radio:checked").each((function(){const i=e(this),n=i.attr("name");if(!n)return;const a=i.val(),r=t.get(n);t.set(n,r?r+","+a:a)})),n.find('input[type="text"], input[type="number"]').each((function(){const i=e(this),n=i.attr("name"),a=i.val();if(!n||!a)return;if(n.startsWith("min_")||n.startsWith("max_")||n.startsWith("post_meta_"))return void t.set(n,a);const r=function(e){const t=(e.closest(".flex-wrapper").attr("class")||"").split(/\s+/);for(let e=0;e<t.length;e++)if(t[e]&&"flex-wrapper"!==t[e])return t[e];return null}(i),o=r?n+"_"+r:n;t.set(o,a)}));const a=window.location.pathname+"?"+t.toString();window.history.replaceState({},"",a)}t.forEach((function(t,i){if("results"===i)return;if(i.includes("_")){const e=i.split("_"),r=e.pop(),o=e.join("_"),s=n.find(".flex-wrapper."+r).find('[name="'+o+'"]');if(!s.length)return;return void(s.is('input[type="text"], input[type="number"]')&&(s.val(t),a=!0))}const r=n.find('[name="'+i+'"]');if(r.length)if(r.is(":checkbox, :radio")){const i=t.split(",");r.each((function(){i.includes(e(this).val())&&(e(this).prop("checked",!0),a=!0)}))}else r.is('input[type="text"], input[type="number"]')&&(r.val(t),a=!0)})),a&&setTimeout((function(){r(),n.find(':checked, input[type="text"][value!=""], input[type="number"][value!=""]').trigger("change"),n.trigger("change")}),300),n.on("change input",'.bpfwe-filter-item, .input-text, [class^="bpfwe-filter-range-"], input[type="text"], input[type="number"], :checkbox, :radio',(function(){r()})),n.data("bpfweUpdateUrl",r)}(),e(document).on("click",".filter-title.collapsible",(function(){const t=e(this);let i=t.next(".bpfwe-taxonomy-wrapper, .bpfwe-custom-field-wrapper, .bpfwe-numeric-wrapper");i.length||(i=t.siblings(".bpfwe-taxonomy-wrapper, .bpfwe-custom-field-wrapper, .bpfwe-numeric-wrapper")),i.is(":visible")||i.css("display","flex").hide(),t.toggleClass("collapsed"),i.stop(!0,!0).slideToggle(300,(function(){i.is(":visible")&&i.css("display","flex")}))}));const s=elementorModules.frontend.handlers.Base.extend({bindEvents(){this.getAjaxFilter()},getAjaxFilter(){let n=!1;const r=this.$element.find(".filter-container");r.find(".bpfwe-select2 select").each((function(t){const i=e(this),n=i.closest(".bpfwe-select2"),a="bpfwe-select2-"+t;i.attr("id",a).prop("multiple",!1).select2({dropdownParent:n}),n.css({visibility:"visible",opacity:"1",transition:"opacity 0.3s ease-in-out"})})),r.find(".bpfwe-select-all").on("click",(function(){const t=e(this),i=t.data("taxonomy"),n=!t.hasClass("checked");t.toggleClass("checked",n);r.find("input.bpfwe-filter-item").filter('[data-taxonomy="'+i+'"]').prop("checked",n).trigger("change")})),r.find("input.bpfwe-filter-item").on("change",(function(){const t=e(this).data("taxonomy"),i=r.find("input.bpfwe-filter-item").filter('[data-taxonomy="'+t+'"]'),n=r.find('.bpfwe-select-all[data-taxonomy="'+t+'"]'),a=i.length===i.filter(":checked").length;n.toggleClass("checked",a)})),r.find(".bpfwe-multi-select2 select").each(((t,i)=>{const n=e(i),a=n.closest(".bpfwe-multi-select2"),r=`bpfwe-multi-select2-${t}`;n.attr("id",r).prop("multiple",!0).select2({dropdownParent:a}),n.val(null).trigger("change"),a.css({visibility:"visible",opacity:"1",transition:"opacity 0.3s ease-in-out"});const o=()=>{const e=a.find(".select2-selection__rendered");e.find(".select2-selection__e-plus-button").remove(),0===n.val().length&&e.prepend('<span class="select2-selection__choice select2-selection__e-plus-button">+</span>')};o(),n.on("change",o)})),r.on("click","li.more",(function(){e(this).closest("ul.taxonomy-filter").toggleClass("show-toggle")})),r.on("click",".low-group-trigger",(function(){var t=e(this),i=t.closest("li").children(".low-terms-group, .child-terms");i.toggle();var n=i.is(":visible");t.text(n?"-":"+"),t.attr("aria-expanded",n)})),e(document).off("mousedown",'input[type="radio"]').on("mousedown",'input[type="radio"]',(function(t){e(this).data("wasChecked",e(this).prop("checked"))})),e(document).off("click",'input[type="radio"]').on("click",'input[type="radio"]',(function(t){var i=e(this);i.data("wasChecked")&&i.prop("checked",!1).trigger("change"),i.removeData("wasChecked")})),e(document).off("mousedown","label.bpfwe-visual-range-option").on("mousedown","label.bpfwe-visual-range-option",(function(t){if(!e(t.target).is('input[type="radio"]')&&!e(t.target).closest('input[type="radio"]').length){var i=e(this),n=i.attr("for"),a=e();if(n){var r=document.getElementById(n);r&&(a=e(r))}else a=i.find('input[type="radio"]').first();a.length&&a.data("wasChecked",a.prop("checked"))}})),e(document).off("click","label.bpfwe-visual-range-option").on("click","label.bpfwe-visual-range-option",(function(t){if(!e(t.target).is('input[type="radio"]')&&!e(t.target).closest('input[type="radio"]').length){var i=e(this),n=i.attr("for"),a=e();if(n){var r=document.getElementById(n);r&&(a=e(r))}else a=i.find('input[type="radio"]').first();a.length&&(a.data("wasChecked")?(t.preventDefault(),a.prop("checked",!1).trigger("change")):(t.preventDefault(),a.prop("checked")||a.prop("checked",!0).trigger("change")),a.removeData("wasChecked"))}})),e(document).on("keydown","form.form-tax input",(function(e){13===e.which&&e.preventDefault()})),e(document).on("submit","form.form-tax",(function(e){e.preventDefault()}));const s=window.location.href,l=this.$element.data("settings");if(!l)return;let d=l?.target_selector??"";if(!d||!e(d).length){let t=e(".elementor-widget-loop-carousel, .elementor-widget-loop-grid, .elementor-widget-post-widget, .elementor-widget-posts").first();if(t.length){let e=t.attr("class")?.split(" ").find((e=>e.startsWith("elementor-widget-")))||"";d=t.attr("id")?`#${t.attr("id")}`:e?`.${e}`:""}}if(!d||"."===d)return;let c=1,p="",f=e(d),g=f.data("id");f.find(".loader");f.find(".pagination").data("max-page");var u={};const m=f.data("settings");if(m&&(m.pagination||m.pagination_type)){p=m.pagination||m.pagination_type;var h=(m.scroll_threshold?.size||0)+(m.scroll_threshold?.unit||"px")}else h="0px";let w=window.elementorFrontendConfig.post.id;if(w){if(!g)return;if((y=e('[data-id="'+g+'"]').parents("[data-elementor-id]").last()).length){var _="elementor_library"===y.data("elementor-post-type"),v=y.data("elementor-type");_&&v&&-1!==v.indexOf("single")&&(w=y.data("elementor-id"))}}else{if(!g)return;var y;(y=e('[data-id="'+g+'"]').parents("[data-elementor-id]").last()).length&&(w=y.data("elementor-id"))}function b(e,t){let i;return function(){const n=this,a=arguments;clearTimeout(i),i=setTimeout((()=>e.apply(n,a)),t)}}let x,k=!1;function C(e){const t=new URL(e,window.location.origin),i=t.searchParams.get("page_num");if(i&&!isNaN(i))return parseInt(i,10);const n=t.searchParams.get("paged");if(n&&!isNaN(n))return parseInt(n,10);const a=t.searchParams.get("page");if(a&&!isNaN(a))return parseInt(a,10);const r=e.match(/\/page\/(\d+)(\/|$)/);return r&&r[1]?parseInt(r[1],10):1}function I(t){let i=t.find(".post-container").data("total-post")||0;i=Number(i),e(".filter-post-count .number").text(i)}function $(s,l,d){0===e(document).find('div[data-filters-list*="'+s+'"]').length&&o();let c=s?e('div[data-filters-list*="'+s+'"]').data("id"):g;if(!c)return;d&&(c=d);let p=e('div[data-id="'+c+'"]');if(!p.length)return;t[c];let f=i[c],m=p.data("filters-list")?p.data("filters-list").split(","):[],_=p.find(".post-container"),v="",y="",x="",k="",q="",F="",N=p.data("settings")?.pagination||p.data("settings")?.pagination_type||"";"cwm_infinite"!==N&&"infinite"!==N||!u[c]||(u[c].disconnect(),u[c]=null);let D=e('.elementor-widget-sorting-widget[data-id="'+s+'"]').length>0,T=e('.elementor-widget-search-bar-widget[data-id="'+s+'"]').length>0,E=e('.elementor-widget-filter-widget[data-id="'+s+'"]').length>0;(D||T||E)&&(p.removeClass("filter-active"),p.data("current-page",1));const z=a[c];let P=z?.nothingFoundMessage,S=z?.scrollToTop,O=z?.displaySelectedBefore,H=!1;if(e(".elementor-sticky__spacer").empty(),m.forEach((function(t){if(!q){var i=e('.elementor-widget-sorting-widget[data-id="'+t+'"]');i.length&&(q=i.data("settings")?.filter_post_type||"")}if(!q){var n=e('.elementor-widget-search-bar-widget[data-id="'+t+'"]');n.length&&(q=n.data("settings")?.filter_post_type||"")}var a=e('.elementor-widget-filter-widget[data-id="'+t+'"]');a.length&&(q=a.data("settings")?.filter_post_type||"")})),"targeted_widget"===q){let e="";const t=p.find('[class*="type-"]').first();if(t.length){const i=t.attr("class").split(/\s+/).find((e=>0===e.indexOf("type-")));i&&(e=i.replace("type-",""))}if(!e){const t=p.data("settings")||{};t.post_type&&Array.isArray(t.post_type)&&t.post_type.length>0&&(e=t.post_type[0])}q=e||"any"}var L=[],A=[],M=[],U=[],R=[];m.forEach((function(t){var i=e('.elementor-widget-search-bar-widget[data-id="'+t+'"]');i.length&&(k=i.find("form.search-post input").val()||"",k&&(H=!0));var n=e('.elementor-widget-sorting-widget[data-id="'+t+'"]');if(n.length){var a=n.find(".form-order-by select"),r=(a.find("option:first-child"),a.find("option:selected")),o=a.find("option:first-child").val();r.each((function(){var t=e(this);v=t.data("order"),x=t.data("meta"),y=t.val(),t.val()===o&&""===y||(H=!0)}))}var s=e('.elementor-widget-filter-widget[data-id="'+t+'"]');s.length&&(s.find(".bpfwe-taxonomy-wrapper input:checked, .bpfwe-custom-field-wrapper input:checked").each((function(){var t=e(this);(t.closest(".bpfwe-taxonomy-wrapper").length?L:A).push({taxonomy:t.data("taxonomy"),terms:t.val(),logic:t.closest("div").data("logic")}),H=!0})),s.find(".bpfwe-custom-field-relational-wrapper input:checked").each((function(){var t=e(this);M.push({taxonomy:t.data("taxonomy"),terms:t.val(),logic:t.closest("div").data("logic")}),H=!0})),s.find(".bpfwe-custom-field-wrapper input.input-text").each((function(){var t=e(this);t.val()&&(U.push({taxonomy:t.data("taxonomy"),terms:t.val(),logic:t.closest("div").data("logic")}),H=!0)})),s.find(".bpfwe-taxonomy-wrapper select option:selected, .bpfwe-custom-field-wrapper select option:selected").each((function(){var t=e(this);t.val()&&((t.closest(".bpfwe-taxonomy-wrapper").length?L:A).push({taxonomy:t.data("taxonomy"),terms:t.val(),logic:t.closest("div").data("logic")}),H=!0)})),s.find(".bpfwe-numeric-wrapper input").each((function(){var t=e(this),i=t.data("base-value");if(""===t.val()||t.val()!=i){""===t.val()&&t.val(i);var n=t.attr("class").split(" ")[0];s.find(".bpfwe-numeric-wrapper input").each((function(){var t=e(this);t.hasClass(n)&&(R.push({taxonomy:t.data("taxonomy"),terms:t.val(),logic:t.closest("div").data("logic")}),H=!0)}))}})),s.find('.bpfwe-visual-range-wrapper input[type="radio"]:checked').each((function(){var t=e(this),i=t.closest(".bpfwe-visual-range-wrapper").data("taxonomy"),n=t.closest(".bpfwe-visual-range-wrapper").data("logic"),a=parseFloat(t.data("min")),r=parseFloat(t.data("max"));isNaN(a)||isNaN(r)||(R.push({taxonomy:i,terms:a,logic:n}),R.push({taxonomy:i,terms:r,logic:n}),H=!0)})),F=s.find('.bpfwe-filter-item[data-taxonomy="post_date"]').map((function(){return this.value})).get().join(","))}));var B=new URLSearchParams(window.location.search);function J(e){return e.reduce(((e,t)=>{const i=e.reduce(((e,i,n)=>i.taxonomy===t.taxonomy?n:e),-1);return i>=0?e[i].terms=e[i].terms.concat(t.terms):e.push({taxonomy:t.taxonomy,terms:[t.terms],logic:t.logic}),e}),[])}function W(t){const i=e(t);i.length&&(elementorFrontend.elementsHandler.runReadyTrigger(i),i.find("[data-element_type]").each((function(){elementorFrontend.elementsHandler.runReadyTrigger(e(this))})),"function"==typeof elementorFrontend?.utils?.runElementHandlers&&elementorFrontend.utils.runElementHandlers(i[0]),e(document).trigger("elementor/lazyload/observe"))}B.has("search")&&(k=B.get("search"),k&&(H=!0)),p.removeClass("e-load-more-pagination-end"),_.addClass("load"),p.addClass("load filter-initialized"),(_.hasClass("shortcode")||_.hasClass("template"))&&p.find(".loader").fadeIn(),function(t,i){if(!e(".selected-terms-"+t+", .selected-count-"+t+", .quick-deselect-"+t+", .bpfwe-selected-terms, .bpfwe-selected-count").length)return;const n=e(`.elementor-widget-filter-widget[data-id="${t}"]`);if(!n.length)return;let a=[],r=[];n.find('input[type="checkbox"]:checked, input[type="radio"]:checked').each((function(){const t=e(this).closest("label").find("span").first().text().trim();t&&a.push(t)})),n.find("select option:selected").each((function(){const t=e(this).text().trim();t&&e(this).val()&&a.push(t)})),n.find('input[type="checkbox"]:checked, input[type="radio"]:checked, select option:selected').each((function(){const t=e(this),i=t.val();let n=t.is("option")?t.text().trim():t.closest("label").find("span").first().text().trim();i&&n&&r.push({value:i,label:n})})),n.find(".bpfwe-numeric-wrapper").each((function(){const t=e(this),i=t.find('input[name^="min_"]'),n=t.find('input[name^="max_"]');if(i.length&&n.length){const e=i.val(),t=n.val(),o=i.data("base-value"),s=n.data("base-value");if(e!=o||t!=s){const o=`${e} - ${t}`;a.push(o),r.push({value:`${e}-${t}`,label:o,type:"range",minInput:i,maxInput:n})}}}));const o=a.length>0?`${a.length} ${i}`:"";e(".selected-count-"+t+", .bpfwe-selected-count").each((function(){const t=e(this),i=t.find(".elementor-widget-container").first(),n=i.length?i.children().first():t.children().first();n.length&&n.text(o)}));const s=a.length>0?`${i} ${a.join(", ")}`:"";e(".selected-terms-"+t+", .bpfwe-selected-terms").each((function(){const t=e(this),i=t.find(".elementor-widget-container").first(),n=i.length?i.children().first():t.children().first();n.length&&n.text(s)}));const l=r.map((e=>"range"===e.type?`<span class="bpfwe-term-pill" data-range="true" data-min="${e.minInput.attr("name")}" data-max="${e.maxInput.attr("name")}" data-widget-id="${t}">\n\t\t\t\t\t\t\t\t\t\t<span class="bpfwe-term-remove" data-widget-id="${t}">×</span> ${e.label}\n\t\t\t\t\t\t\t\t\t</span>`:`<span class="bpfwe-term-pill" data-term="${e.value}">\n\t\t\t\t\t\t\t\t\t<span class="bpfwe-term-remove" data-widget-id="${t}">×</span> ${e.label}\n\t\t\t\t\t\t\t\t</span>`)).join("");e(".quick-deselect-"+t).each((function(){const t=e(this),i=t.find(".elementor-widget-container").first(),n=i.length?i.children().first():t.children().first();n.length&&n.html(l)})),e(document).off("click",".bpfwe-term-remove").on("click",".bpfwe-term-remove",(function(){const t=e(this).parent(),i=e(this).data("widget-id"),n=e(i?`.elementor-widget-filter-widget[data-id="${i}"]`:".elementor-widget-filter-widget");if(t.data("range")){const e=t.data("min"),i=t.data("max"),a=n.find(`input[name="${e}"]`),r=n.find(`input[name="${i}"]`);a.length&&r.length&&(a.val(a.data("base-value")).trigger("change"),r.val(r.data("base-value")).trigger("change"))}else if(n.length){let e=n.find(`[value="${t.data("term")}"]`);if(e.is('input[type="checkbox"], input[type="radio"]'))e.prop("checked",!1).trigger("change");else if(e.is("option")){e.prop("selected",!1);const t=e.closest("select");t.prop("multiple")||t.prop("selectedIndex",0),t.trigger("change")}}}))}(s,O);var Q=J(L),X=J(A),G=J(M),K=J(U),V=J(R);e.ajax({type:"POST",url:ajax_var.url,async:!0,data:{action:"post_filter_results",widget_id:c,page_id:w,group_logic:z?.groupLogic||"",search_query:k,date_query:F,taxonomy_output:Q,dynamic_filtering:z?.dynamicFiltering,custom_field_output:X,custom_field_relational_output:G,custom_field_like_output:K,numeric_output:V,post_type:q,posts_per_page:f,order:v,order_by:y,order_by_meta:x,paged:l,archive_type:e('[name="archive_type"]').val(),archive_post_type:e('[name="archive_post_type"]').val(),archive_taxonomy:e('[name="archive_taxonomy"]').val(),archive_id:e('[name="archive_id"]').val(),nonce:ajax_var.nonce,performance_settings:JSON.stringify(j(c)),enable_query_debug:z?.enableQueryDebug||"",inject_id:z?.injectID||"",query_id:z?.queryID||""},success:function(i){var n=JSON.parse(i),a=n.html;if(n.query&&ajax_var.isUserLoggedIn){const t='<div class="query-debug-frame" style="background:#f5f5f5; border:1px solid #ccc; padding:10px; margin:15px 0; font-family: monospace; white-space: pre-wrap;">'+n.query+"</div>",i=e(document).find(".query-debug-frame");i.length?i.replaceWith(t):r.append(t)}let o=t[c];if("0"!==i&&H){if(["infinite","load_more","load_more_on_click","load_more_infinite_scroll","cwm_infinite"].includes(N))if(p.hasClass("filter-active")){var s=p.find(".elementor-grid").children();p.hide().empty().append(e(a)),p.find(".elementor-grid").prepend(s),p.removeClass("e-load-more-pagination-loading"),p[p.hasClass("elementor-widget-posts")?"fadeIn":"show"](),p.removeClass("load")}else p.html(a).fadeIn().removeClass("load");else p.html(a).fadeIn().removeClass("load");if(p.find(".loader").fadeOut(),p.find(".no-post").length||p.find(".e-loop-nothing-found-message").length){if(P&&P.trim()){const e=P.replace(/</g,"&lt;").replace(/>/g,"&gt;");p.html(`<div class="no-post e-loop-nothing-found-message">${e}</div>`)}}else{p.find('nav[aria-label="Pagination"], nav[aria-label="Product Pagination"]').addClass("pagination-filter");p.find(".e-load-more-anchor").data("next-page");var l=p.find(".load-more"),d=p.find(".e-load-more-anchor").nextAll().find(".elementor-button-link.elementor-button");l.addClass("load-more-filter"),d.addClass("load-more-filter"),p.addClass("filter-active");f=p.data("settings");"load_more_infinite_scroll"===f?.pagination_type&&(f.pagination_type="cwm_infinite",p.data("settings",f)),"ajax"===f?.pagination_load_type&&(f.pagination_load_type="cwm_ajax",p.data("settings",f)),I(p)}}else{p.html(o).fadeIn().removeClass("load filter-active");var f=p.data("settings");"cwm_infinite"===f?.pagination_type&&(f.pagination_type="load_more_infinite_scroll",p.data("settings",f)),"cwm_ajax"===f?.pagination_load_type&&(f.pagination_load_type="ajax",p.data("settings",f)),I(p)}p.removeClass("filter-initialized")},complete:function(){var e=p.find(".load-more-filter");N=p.data("settings")?.pagination||p.data("settings")?.pagination_type||"";var t=p.find(".e-load-more-anchor");if(t.length){var i=t.data("page");a=t.data("max-page")-1}else{i=p.find(".pagination").data("page");var a=p.find(".pagination").data("max-page")-1}"yes"===S&&window.scrollTo({top:p.offset().top-150,behavior:"smooth"}),i>a&&(p.addClass("e-load-more-pagination-end"),e.hide()),n=!1,p.hasClass("filter-active")&&"infinite"===N&&b((function(){!function(e,t){var i=t.find(".e-load-more-anchor"),a=t.find(".pagination-filter a.next");if(!a.length)return void(u[e]&&(u[e].disconnect(),u[e]=null));a.length&&i.length&&(u[e]||(u[e]=new IntersectionObserver((function(i){i.forEach((function(i){if(i.isIntersecting){var a=t.find(".pagination-filter a.next");if(!n&&a.length&&t.hasClass("filter-active"))n=!0,$(null,C(a.attr("href")),e)}}))}),{root:null,rootMargin:h,threshold:0})),u[e].observe(i.get(0)))}(c,p)}),800)(),p.hasClass("filter-active")&&"cwm_infinite"===N&&b((function(){!function(e,t){var i=t.find(".e-load-more-anchor"),a=t.data("current-page")||1,r=i.data("max-page");if(a>=r)return void(u[e]&&(u[e].disconnect(),u[e]=null));i.length&&a<r&&(u[e]||(u[e]=new IntersectionObserver((function(i){i.forEach((function(i){i.isIntersecting&&!n&&t.hasClass("filter-active")&&(n=!0,a++,t.data("current-page",a),$(null,a,e))}))}),{root:null,rootMargin:h,threshold:0})),u[e].observe(i.get(0)))}(c,p)}),800)(),p.find("input").val(k),W(p)},error:function(e,i,n){console.log("AJAX error:",n);let a=t[c];p.html(a).fadeIn().removeClass("load filter-active");var r=p.data("settings");"cwm_infinite"===r?.pagination_type&&(r.pagination_type="load_more_infinite_scroll",p.data("settings",r)),"cwm_ajax"===r?.pagination_load_type&&(r.pagination_load_type="ajax",p.data("settings",r)),I(p),W(p)}})}function j(t){let i=e(`.elementor-element[data-id="${t}"]`).data("performance-settings");return i||(i={optimize_query:!1,no_found_rows:!1,suppress_filters:!1,cache_results:!0,posts_per_page:-1}),i.posts_per_page=parseInt(i.posts_per_page)||-1,i}r.on("mousedown keydown touchstart","form.form-tax",(function(){k=!0,clearTimeout(x)})),r.on("mouseup keyup touchend","form.form-tax",(function(){x=setTimeout((()=>k=!1),700)})),e(document).off("change keydown input","form.form-tax, .bpfwe-numeric-wrapper input").on("change keydown input","form.form-tax, .bpfwe-numeric-wrapper input",b((function(t){var i=e(this).closest(".elementor-widget-filter-widget"),n=i.data("id");if(!n)return;if(!(i.find(".submit-form").length>0)){if("change"===t.type||"keydown"===t.type&&"Enter"===t.key)return void $(n);k||$(n)}}),700)),e(document).off("click",".submit-form").on("click",".submit-form",(function(){var t=e(this).closest(".elementor-widget-filter-widget").data("id");if(t)return $(t),!1})),e(document).off("change","form.form-order-by").on("change","form.form-order-by",(function(){var t=e(this).closest(".elementor-widget-sorting-widget").data("id");t&&$(t)})),e(document).off("submit","form.search-post").on("submit","form.search-post",(function(){var t=e(this).closest(".elementor-widget-search-bar-widget").data("id");if(t)return $(t),!e(this).hasClass("no-redirect")&&void 0})),s.includes("?search=")&&$(),e(document).off("click",".pagination-filter a").on("click",".pagination-filter a",(function(t){var i=e(this).closest("[data-id]").data("id");t.preventDefault(),$(null,C(e(this).attr("href")),i)})),e(document).off("click",".load-more-filter").on("click",".load-more-filter",(function(t){t.preventDefault();var i=e(this).closest("[data-id]"),n=i.data("id"),a=i.find(".e-load-more-anchor").data("next-page");if(a){$(null,C(a),n)}else{var r=i.find(".pagination-filter a.next");if(r.length)r.trigger("click"),c++,i.data("current-page",c),i.find(".load-more").text("Loading...").prop("disabled",!0)}})),r.on("click",".reset-form",(function(){var t=e(this).closest(".elementor-widget-filter-widget").data("id"),i=e('div[data-filters-list*="'+t+'"]');i.data("id")&&i.length&&((i.data("filters-list")?i.data("filters-list").split(","):[]).forEach((function(t){var i=e('.elementor-widget-filter-widget[data-id="'+t+'"]');i.length&&(i.find("input:checked").prop("checked",!1),i.find("select").each((function(){e(this).val(e(this).find("option:first").val()).trigger("change")})),i.find(".bpfwe-numeric-wrapper input").each((function(){var t=e(this).data("base-value");e(this).val(t).trigger("input")})),i.find("input.input-text").val("").trigger("input"));var n=e('.elementor-widget-sorting-widget[data-id="'+t+'"]');n.length&&n.find("form.form-order-by select").prop("selectedIndex",0).trigger("change");var a=e('.elementor-widget-search-bar-widget[data-id="'+t+'"]');a.length&&a.find('form.search-post input[name="s"]').val("").trigger("input")})),i.addClass("filter-initialized"),i.removeClass("filter-active"),i.data("current-page",1),$(t))})),I(f)}});elementorFrontend.isEditMode()?elementorFrontend.elementsHandler.attachHandler("filter-widget",s):elementorFrontend.elementsHandler.attachHandler(r,s)}))}(jQuery);